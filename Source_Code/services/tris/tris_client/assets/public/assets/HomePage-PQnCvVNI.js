import{d as U,r as m,o as j,c as w,w as a,u as t,a as q,b as h,e as n,I as H,f as R,g as M,h as N,i,j as x,k as f,l as I,m as b,n as O,p as L,q as z,s as D,F as E,t as X,v as G,x as _,y as C,z as J,A as K,_ as Q}from"./index-C6DMi5pG.js";const S=g=>(J("data-v-9ce770e9"),g=g(),K(),g),W=S(()=>i("h2",null,"Found trains:",-1)),Y=S(()=>i("br",null,null,-1)),Z=S(()=>i("br",null,null,-1)),$=U({__name:"HomePage",setup(g){let u=m(""),s=m(""),d=m(""),r=m("");const y=q(),v=m([]),P=o=>o.substring(0,16),k=o=>o.substring(17,o.length-2),A=o=>{let l=o.charAt(16);return l=="*"?"****":{A:"Automobiles and Auto Parts",B:"Bulk Commodities",C:"Chemicals and Petroleum Products",F:"Forest Products",G:"Agricultural Products",I:"Intermodal Containers",S:"Steel and Metals",X:"Confidential"}[l]};j(()=>{p()});const p=o=>{let l={};u.value.toString().length>=11&&(l.id=u.value.toString()),s.value!=""&&(l.lat=s.value),d.value!=""&&(l.long=d.value),r.value!=""&&(l.time=r.value),v.value=[];let e=new URLSearchParams(l).toString(),V="".concat(window.server,"/list?").concat(e),T=window.signRequest(V);fetch(V,{headers:{Accept:"application/json","X-Signature":T,"Content-Type":"application/json",Authorization:window.jwt}}).then(c=>c.json()).then(c=>{v.value=c.trains}).catch(c=>{console.log(c)})},B=()=>{document.querySelector(".filters").classList.toggle("hide"),document.querySelector(".title").classList.toggle("down")},F=o=>{o.indexOf("*")==-1&&y.push("/train/"+o)};return(o,l)=>(h(),w(t(G),null,{default:a(()=>[n(t(N),{translucent:!0},{default:a(()=>[n(t(H),null,{default:a(()=>[n(t(R),{slot:"start"},{default:a(()=>[n(t(M),{color:"primary"})]),_:1})]),_:1})]),_:1}),n(t(X),{class:"ion-padding"},{default:a(()=>[i("div",{class:"title",onClick:B},"Search "),n(t(x),{class:"filters"},{default:a(()=>[n(t(f),null,{default:a(()=>[n(t(I),{label:"id","label-placement":"fixed",name:"id",modelValue:t(u),"onUpdate:modelValue":l[0]||(l[0]=e=>b(u)?u.value=e:u=e),type:"number",debounce:"1000",onIonInput:l[1]||(l[1]=e=>p(e)),placeholder:"(12 digits needed)"},null,8,["modelValue"])]),_:1}),n(t(f),null,{default:a(()=>[n(t(I),{label:"Lat","label-placement":"fixed",name:"lat",modelValue:t(s),"onUpdate:modelValue":l[2]||(l[2]=e=>b(s)?s.value=e:s=e),debounce:"1000",onIonInput:l[3]||(l[3]=e=>p(e)),placeholder:"Latitude"},null,8,["modelValue"])]),_:1}),n(t(f),null,{default:a(()=>[n(t(I),{label:"Long","label-placement":"fixed",name:"long",modelValue:t(d),"onUpdate:modelValue":l[4]||(l[4]=e=>b(d)?d.value=e:d=e),debounce:"1000",onIonInput:l[5]||(l[5]=e=>p(e)),placeholder:"Longitude"},null,8,["modelValue"])]),_:1}),n(t(f),null,{default:a(()=>[n(t(I),{label:"Minutes past","label-placement":"fixed",name:"time",modelValue:t(r),"onUpdate:modelValue":l[6]||(l[6]=e=>b(r)?r.value=e:r=e),type:"number",debounce:"1000",onIonInput:l[7]||(l[7]=e=>p(e)),placeholder:"time"},null,8,["modelValue"])]),_:1})]),_:1}),n(t(x),null,{default:a(()=>[n(t(O),null,{default:a(()=>[n(t(L),null,{default:a(()=>[W]),_:1})]),_:1}),(h(!0),z(E,null,D(v.value,e=>(h(),w(t(f),null,{default:a(()=>[n(t(L),{onClick:V=>F(e)},{default:a(()=>[i("h4",null,_(e),1),i("p",null,[C(" Identifier:"+_(P(e))+" ",1),Y,C(" Operator:"+_(k(e))+" ",1),Z,C(" Cargo:"+_(A(e)),1)])]),_:2},1032,["onClick"])]),_:2},1024))),256))]),_:1})]),_:1})]),_:1}))}}),le=Q($,[["__scopeId","data-v-9ce770e9"]]);export{le as default};
