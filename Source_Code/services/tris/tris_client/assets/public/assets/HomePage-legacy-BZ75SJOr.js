System.register(["./index-legacy-Ctu-DfWH.js"],(function(e,t){"use strict";var l,n,a,o,u,d,i,r,c,s,p,m,f,g,h,v,b,_,x,w,I,C,V,S,y,A,L,P,j,k;return{setters:[e=>{l=e.d,n=e.r,a=e.o,o=e.c,u=e.w,d=e.u,i=e.a,r=e.b,c=e.e,s=e.I,p=e.f,m=e.g,f=e.h,g=e.i,h=e.j,v=e.k,b=e.l,_=e.m,x=e.n,w=e.p,I=e.q,C=e.s,V=e.F,S=e.t,y=e.v,A=e.x,L=e.y,P=e.z,j=e.A,k=e._}],execute:function(){var t=document.createElement("style");t.textContent='#container[data-v-9ce770e9]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container strong[data-v-9ce770e9]{font-size:20px;line-height:26px}#container p[data-v-9ce770e9]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container a[data-v-9ce770e9]{text-decoration:none}.title[data-v-9ce770e9]{padding:0 10px;font-weight:700;font-size:1.1em}.title[data-v-9ce770e9]:after{content:"▲"}.down[data-v-9ce770e9]:after{content:"▼"}.filters[data-v-9ce770e9]{transition:height .5s;height:200px;overflow:visible}.hide[data-v-9ce770e9]{height:0px;overflow:hidden}\n',document.head.appendChild(t);const z=e=>(P("data-v-9ce770e9"),e=e(),j(),e),U=z((()=>g("h2",null,"Found trains:",-1))),q=z((()=>g("br",null,null,-1))),F=z((()=>g("br",null,null,-1)));e("default",k(l({__name:"HomePage",setup(e){let t=n(""),l=n(""),P=n(""),j=n("");const k=i(),z=n([]),B=e=>e.substring(0,16),M=e=>e.substring(17,e.length-2),O=e=>{let t=e.charAt(16);return"*"==t?"****":{A:"Automobiles and Auto Parts",B:"Bulk Commodities",C:"Chemicals and Petroleum Products",F:"Forest Products",G:"Agricultural Products",I:"Intermodal Containers",S:"Steel and Metals",X:"Confidential"}[t]};a((()=>{R()}));const R=e=>{let n={};t.value.toString().length>=11&&(n.id=t.value.toString()),""!=l.value&&(n.lat=l.value),""!=P.value&&(n.long=P.value),""!=j.value&&(n.time=j.value),z.value=[];let a=new URLSearchParams(n).toString(),o=`${window.server}/list?${a}`,u=window.signRequest(o);fetch(o,{headers:{Accept:"application/json","X-Signature":u,"Content-Type":"application/json",Authorization:window.jwt}}).then((e=>e.json())).then((e=>{z.value=e.trains})).catch((e=>{console.log(e)}))},X=()=>{document.querySelector(".filters").classList.toggle("hide"),document.querySelector(".title").classList.toggle("down")};return(e,n)=>(r(),o(d(y),null,{default:u((()=>[c(d(f),{translucent:!0},{default:u((()=>[c(d(s),null,{default:u((()=>[c(d(p),{slot:"start"},{default:u((()=>[c(d(m),{color:"primary"})])),_:1})])),_:1})])),_:1}),c(d(S),{class:"ion-padding"},{default:u((()=>[g("div",{class:"title",onClick:X},"Search "),c(d(h),{class:"filters"},{default:u((()=>[c(d(v),null,{default:u((()=>[c(d(b),{label:"id","label-placement":"fixed",name:"id",modelValue:d(t),"onUpdate:modelValue":n[0]||(n[0]=e=>_(t)?t.value=e:t=e),type:"number",debounce:"1000",onIonInput:n[1]||(n[1]=e=>R(e)),placeholder:"(12 digits needed)"},null,8,["modelValue"])])),_:1}),c(d(v),null,{default:u((()=>[c(d(b),{label:"Lat","label-placement":"fixed",name:"lat",modelValue:d(l),"onUpdate:modelValue":n[2]||(n[2]=e=>_(l)?l.value=e:l=e),debounce:"1000",onIonInput:n[3]||(n[3]=e=>R(e)),placeholder:"Latitude"},null,8,["modelValue"])])),_:1}),c(d(v),null,{default:u((()=>[c(d(b),{label:"Long","label-placement":"fixed",name:"long",modelValue:d(P),"onUpdate:modelValue":n[4]||(n[4]=e=>_(P)?P.value=e:P=e),debounce:"1000",onIonInput:n[5]||(n[5]=e=>R(e)),placeholder:"Longitude"},null,8,["modelValue"])])),_:1}),c(d(v),null,{default:u((()=>[c(d(b),{label:"Minutes past","label-placement":"fixed",name:"time",modelValue:d(j),"onUpdate:modelValue":n[6]||(n[6]=e=>_(j)?j.value=e:j=e),type:"number",debounce:"1000",onIonInput:n[7]||(n[7]=e=>R(e)),placeholder:"time"},null,8,["modelValue"])])),_:1})])),_:1}),c(d(h),null,{default:u((()=>[c(d(x),null,{default:u((()=>[c(d(w),null,{default:u((()=>[U])),_:1})])),_:1}),(r(!0),I(V,null,C(z.value,(e=>(r(),o(d(v),null,{default:u((()=>[c(d(w),{onClick:t=>{var l;-1==(l=e).indexOf("*")&&k.push("/train/"+l)}},{default:u((()=>[g("h4",null,A(e),1),g("p",null,[L(" Identifier:"+A(B(e))+" ",1),q,L(" Operator:"+A(M(e))+" ",1),F,L(" Cargo:"+A(O(e)),1)])])),_:2},1032,["onClick"])])),_:2},1024)))),256))])),_:1})])),_:1})])),_:1}))}}),[["__scopeId","data-v-9ce770e9"]]))}}}));
